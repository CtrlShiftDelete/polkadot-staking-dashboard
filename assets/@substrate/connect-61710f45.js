const B="modulepreload",N=function(e){return"/polkadot-staking-dashboard/"+e},R={},h=function(r,t,f){if(!t||t.length===0)return r();const c=document.getElementsByTagName("link");return Promise.all(t.map(n=>{if(n=N(n),n in R)return;R[n]=!0;const o=n.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!f)for(let l=c.length-1;l>=0;l--){const d=c[l];if(d.href===n&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${s}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":B,o||(i.as="script",i.crossOrigin=""),i.href=n,document.head.appendChild(i),o)return new Promise((l,d)=>{i.addEventListener("load",l),i.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>r()).catch(n=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=n,window.dispatchEvent(o),!o.defaultPrevented)throw n})},P="substrateConnectExtensionAvailableV2";var V=Object.defineProperty,M=Object.defineProperties,W=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,x=(e,r,t)=>r in e?V(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,$=(e,r)=>{for(var t in r||(r={}))F.call(r,t)&&x(e,t,r[t]);if(k)for(var t of k(r))U.call(r,t)&&x(e,t,r[t]);return e},q=(e,r)=>M(e,W(r)),y=(e,r,t)=>new Promise((f,c)=>{var n=a=>{try{s(t.next(a))}catch(i){c(i)}},o=a=>{try{s(t.throw(a))}catch(i){c(i)}},s=a=>a.done?f(a.value):Promise.resolve(a.value).then(n,o);s((t=t.apply(e,r)).next())}),g=(e=>(e.polkadot="polkadot",e.ksmcc3="ksmcc3",e.rococo_v2_2="rococo_v2_2",e.westend2="westend2",e))(g||{}),_=new Map;function H(e){return y(this,null,function*(){if(!Object.keys(g).includes(e))throw new Error("Invalid chain name");const r=e;if(!_.has(r))switch(r){case"polkadot":{_.set("polkadot",h(()=>import("../polkadot-e6138f93.js"),[]));break}case"ksmcc3":{_.set("ksmcc3",h(()=>import("../ksmcc3-bc2a203c.js"),[]));break}case"westend2":{_.set("westend2",h(()=>import("../westend2-2646150d.js"),[]));break}case"rococo_v2_2":{_.set("rococo_v2_2",h(()=>import("../rococo_v2_2-a4ff4310.js"),[]));break}}return(yield _.get(r)).chainSpec})}var A=class extends Error{constructor(){super(),this.name="AlreadyDestroyedError"}},O=class extends Error{constructor(e){super(e),this.name="CrashError"}},J=class extends Error{constructor(){super(),this.name="JsonRpcDisabledError"}},Q=![typeof window,typeof document].includes("undefined"),T=class{},E=null,z=()=>E||(E=h(()=>import("../index-browser-a241d9b4.js"),["assets/index-browser-a241d9b4.js","assets/no-auto-bytecode-browser-d52125bd.js"]).then(e=>(T=e.QueueFullError,e.start)),E),b=null,G=()=>b||(b=h(()=>import("../no-auto-bytecode-browser-d52125bd.js"),[]).then(e=>e.startWithBytecode),b),m=[],u=null,p=3,S=e=>{if(e.maxLogLevel&&e.maxLogLevel>p&&(p=e.maxLogLevel),u)return m.push(e),u instanceof Promise?u:Promise.resolve(u);let r,t;if(e.workerFactory){r=e.workerFactory();const{port1:n,port2:o}=new MessageChannel;r.postMessage(n,[n]),t=o}const f={portToWorker:t,forbidTcp:!0,forbidNonLocalWs:!0,maxLogLevel:9999999,cpuRateLimit:.5,logCallback:(n,o,s)=>{n>p||(n<=1?console.error("[%s] %s",o,s):n===2?console.warn("[%s] %s",o,s):n===3?console.info("[%s] %s",o,s):n===4?console.debug("[%s] %s",o,s):console.trace("[%s] %s",o,s))}},c=r?G().then(n=>n(q($({},f),{bytecode:new Promise(o=>{Q?r.onmessage=s=>o(s.data):r.on("message",s=>o(s))})}))):z().then(n=>n(f));return u=c,c.then(n=>(u===c?u=n:n.terminate(),n)),m.push(e),u},C=e=>{const r=m.indexOf(e);if(r===-1)throw new Error("Internal error within smoldot");m.splice(r,1),p=3;for(const t of m.values())t.maxLogLevel&&t.maxLogLevel>p&&(p=t.maxLogLevel);m.length===0&&(u&&!(u instanceof Promise)&&u.terminate(),u=null)},D=e=>{try{e()}catch(r){const t=r;throw(t==null?void 0:t.name)==="JsonRpcDisabledError"?new J:(t==null?void 0:t.name)==="CrashError"?new O(t.message):(t==null?void 0:t.name)==="AlreadyDestroyedError"?new A:new O(r instanceof Error?r.message:`Unexpected error ${r}`)}},K=e=>{const r=e||{maxLogLevel:3},t=(n,o,s,a)=>y(void 0,null,function*(){const i=yield S(r);try{const l=yield i.addChain({chainSpec:n,potentialRelayChains:a?[a]:void 0,disableJsonRpc:o===void 0,databaseContent:s});return y(void 0,null,function*(){for(;;){let d;try{d=yield l.nextJsonRpcResponse()}catch{break}try{o(d)}catch(v){console.error("JSON-RPC callback has thrown an exception:",v)}}}),{sendJsonRpc:d=>{D(()=>{try{l.sendJsonRpc(d)}catch(v){if(v instanceof T)try{const w=JSON.parse(d);o(JSON.stringify({jsonrpc:"v2",id:w.id,error:{code:-32e3,message:"JSON-RPC server is too busy"}}))}catch{}else throw v}})},remove:()=>{try{D(()=>{l.remove()})}finally{C(r)}},addChain:(d,v,w)=>t(d,v,w,l)}}catch(l){throw C(r),l}});return{addChain:(n,o,s)=>t(n,o,s),addWellKnownChain:(n,o,s)=>y(void 0,null,function*(){S(r);try{return yield t(yield H(n),o,s)}finally{C(r)}})}},X={polkadot:"0x91b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3",ksmcc3:"0xb0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe",westend2:"0xe143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e",rococo_v2_2:"0x6408de7737c59c238890533af25896a2c20608d8b380bb01029acb392781063e"},L,Y=()=>{L||(L=h(()=>import("../web-page-helper-fa9083eb.js"),[]).then(({getLightClientProvider:r})=>r(P)));const e=(r,t,f,c)=>y(void 0,null,function*(){const n=yield L;let o;if(r){const a=Object.values(n.getChains()).find(({genesisHash:i})=>i===X[t]);if(!a)throw new Error("Unknown well-known chain");o=a}else o=yield n.getChain(t,c);const s=o.connect(f);return{sendJsonRpc(a){s.send(a)},remove(){s.disconnect()},addChain:function(a,i){return e(!1,a,i,o.genesisHash)}}});return{addChain:(r,t)=>e(!1,r,t),addWellKnownChain:(r,t)=>e(!0,r,t)}},I,j=typeof document=="object"&&typeof document.getElementById=="function"&&!!document.getElementById(P)&&((I=document.getElementById(P))==null?void 0:I.getAttribute("channelid"))===P;function Z(e){return!(e==null?void 0:e.forceEmbeddedNode)&&j?Y():K(e==null?void 0:e.embeddedNodeConfig)}const ee=Object.freeze(Object.defineProperty({__proto__:null,AlreadyDestroyedError:A,CrashError:O,JsonRpcDisabledError:J,WellKnownChain:g,createScClient:Z,isExtensionPresent:j},Symbol.toStringTag,{value:"Module"}));export{g as W,h as _,ee as i};
